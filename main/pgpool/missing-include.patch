diff --git a/src/parser/snprintf.c b/src/parser/snprintf.c
index 0e52839..f0368f3 100644
--- a/src/parser/snprintf.c
+++ b/src/parser/snprintf.c
@@ -43,6 +43,7 @@
 #include <string.h>
 #include <ctype.h>
 #include <errno.h>
+#include <math.h> // isnan
 #include "pool_parser.h"
 #include "stringinfo.h"
 #include "utils/palloc.h"
