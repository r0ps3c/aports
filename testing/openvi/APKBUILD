# Contributor: Jason Swank <jswank@scalene.net>
# Maintainer: Jason Swank <jswank@scalene.net>
pkgname=openvi
pkgver=7.3.22
pkgrel=0
pkgdesc="OpenVi is a fork of vi / ex editor included with OpenBSD"
url="https://github.com/johnsonjh/OpenVi"
arch="all"
license="BSD-3-Clause"
# ex, view
depends="!vim !gvim"
makedepends="ncurses-dev"
subpackages="$pkgname-doc"
source="$pkgname-$pkgver.tar.gz::https://github.com/johnsonjh/OpenVi/archive/refs/tags/$pkgver.tar.gz
	unbreak-install.patch
	"
builddir="$srcdir/OpenVi-$pkgver"
options="!check" # no tests

build() {
	make
}

package() {
	make BINPREFIX="" PREFIX="$pkgdir/usr" install
}

sha512sums="
a1f7af6eef55bfcf5b2a7be7909dc6151937927aebbcc98ec1f99f3b6e72e6777a76249f8bda28fcd852c2ecbf4d05d11ffba7959d1d4a5b62b2d8ba58e6c5dc  openvi-7.3.22.tar.gz
261aed30781123abf38c6a7f28b132e5777a6ed7cf63cc170e82e4ce096198c81033bc444fe7ba234939d23d09de4f26ab5efe1ae55519802a156ef44313c81f  unbreak-install.patch
"
