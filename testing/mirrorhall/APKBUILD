maintainer="fossdd <fossdd@pwned.life>"
pkgname=mirrorhall
pkgver=0.1.1
pkgrel=0
pkgdesc="Low-latency virtual screen sharing app between Linux devices"
url="https://gitlab.com/nokun/mirrorhall"
arch="noarch"
license="GPL-3.0-only"
depends="
	gtk4.0
	libadwaita
	py3-netifaces
	py3-zeroconf
	"
makedepends="
	desktop-file-utils
	gettext
	glib-dev
	gtk-update-icon-cache
	meson
	"
source="https://gitlab.com/nokun/mirrorhall/-/archive/$pkgver/mirrorhall-$pkgver.tar.gz
	rm-gnome-47-warning.patch
	"

build() {
	abuild-meson \
		output .
	meson compile -C output
}

check() {
	meson test --no-rebuild --print-errorlogs -C output
}

package() {
	DESTDIR="$pkgdir" meson install --no-rebuild -C output
}

sha512sums="
f19f377fb8542c0f7e6736b491867261cf22084be42908984edf1783643ec65b62bee633d0077ea35c2879e727d4fee081aba2fa9473e13f2c647c5961a963ce  mirrorhall-0.1.1.tar.gz
ba4e2898eaff30c062e83a3f5890b8aab950c8b0bf627bd71e76b2c14b67915d55dd58a8904c4e76ea1a1c3c8c91ae8fc608b860ed1d8dba36be9f2a68a9c1ac  rm-gnome-47-warning.patch
"
