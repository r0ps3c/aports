# Contributor: Antoine Fontaine <antoine.fontaine@epfl.ch>
# Maintainer: Patrycja Rosa <alpine@ptrcnull.me>
pkgname=repo
pkgver=2.50.1
pkgrel=0
pkgdesc="repository management tool built on top of git"
url="https://gerrit.googlesource.com/git-repo"
arch="noarch"
license="Apache-2.0"
options="!check" # no tests upstream
depends="python3 git"
makedepends="py3-setuptools"
subpackages="$pkgname-doc"
source="$pkgname-$pkgver.tar.gz::https://github.com/GerritCodeReview/git-repo/archive/refs/tags/v$pkgver.tar.gz"
builddir="$srcdir/git-repo-$pkgver"

prepare() {
	default_prepare
}

package() {
	install -Dm755 repo -t "$pkgdir"/usr/bin
	install -Dm644 man/* -t "$pkgdir"/usr/share/man/man1
}

sha512sums="
89094bcec2f114e304177455a6770f3c8f97ae7553475fb77367739203c630bd068c0f7d5e2c465e839788ac72637665605d77363554e1b9630a11115a44c9ef  repo-2.50.1.tar.gz
"
