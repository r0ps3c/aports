From: Jakub Jirutka <jakub@jirutka.cz>
Date: Sun, 2 Jun 2024 23:49:33 +0200
Subject: [PATCH] Disable auto-update

See https://github.com/zed-industries/zed/issues/12588

--- a/crates/auto_update/src/auto_update.rs
+++ b/crates/auto_update/src/auto_update.rs
@@ -341,6 +341,16 @@
     }
 
     async fn update(this: Model<Self>, mut cx: AsyncAppContext) -> Result<()> {
+        // XXX-Patched
+        #[cfg(target_os = "linux")]
+        {
+             this.update(&mut cx, |this, cx| {
+                 this.status = AutoUpdateStatus::Idle;
+                 cx.notify();
+             })?;
+             return Ok(());
+        }
+
         let (client, current_version) = this.read_with(&cx, |this, _| {
             (this.http_client.clone(), this.current_version)
         })?;
--- a/assets/settings/default.json
+++ b/assets/settings/default.json
@@ -429,7 +429,7 @@
     "metrics": true
   },
   // Automatically update Zed
-  "auto_update": true,
+  "auto_update": false,
   // Diagnostics configuration.
   "diagnostics": {
     // Whether to show warnings or not by default.
