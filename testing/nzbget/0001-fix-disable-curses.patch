From 9754985b3d5a631a005c771c25b8fec8d82176b5 Mon Sep 17 00:00:00 2001
From: Fabricio Silva <hi@fabricio.dev>
Date: Wed, 4 Sep 2024 16:33:25 +0100
Subject: [PATCH] Fix: default value for OutputMode when disable curses
Url: https://github.com/nzbgetcom/nzbget/pull/376

Fix tests when build without curses.

---
 daemon/main/Options.cpp | 4 ++++
 1 file changed, 4 insertions(+)

diff --git a/daemon/main/Options.cpp b/daemon/main/Options.cpp
index df411ea5..eb8902c5 100644
--- a/daemon/main/Options.cpp
+++ b/daemon/main/Options.cpp
@@ -431,7 +431,11 @@ void Options::InitDefaults()
 	SetOption(OPTION_WRITELOG, "append");
 	SetOption(OPTION_ROTATELOG, "3");
 	SetOption(OPTION_APPENDCATEGORYDIR, "yes");
+#ifdef DISABLE_CURSES
+	SetOption(OPTION_OUTPUTMODE, "color");
+#else
 	SetOption(OPTION_OUTPUTMODE, "curses");
+#endif
 	SetOption(OPTION_DUPECHECK, "yes");
 	SetOption(OPTION_DOWNLOADRATE, "0");
 	SetOption(OPTION_CONTROLIP, "0.0.0.0");
