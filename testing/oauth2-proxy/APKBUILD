# Contributor: Lauren N. Liberda <lauren@selfisekai.rocks>
# Maintainer: Lauren N. Liberda <lauren@selfisekai.rocks>
pkgname=oauth2-proxy
pkgver=7.4.0
pkgrel=0
pkgdesc="Reverse proxy that provides authentication with Google, Azure, OpenID Connect and many more identity providers"
url="https://oauth2-proxy.github.io/oauth2-proxy"
arch="all"
license="MIT"
makedepends="go"
source="https://github.com/oauth2-proxy/oauth2-proxy/archive/refs/tags/v$pkgver/oauth2-proxy-$pkgver.tar.gz"
options="net"

build() {
	VERSION="$pkgver" make oauth2-proxy
}

check() {
	go test ./...
}

package() {
	install -Dm755 oauth2-proxy "$pkgdir"/usr/bin/oauth2-proxy
}

sha512sums="
5098e9773eb13dbc8f10b2335c28b3e0aada72fb80566f9475617c2892fd190a946b5fe9b6065f8c15416e9997d7ee1edacfa3217a634a7069ac6952e0b5311b  oauth2-proxy-7.4.0.tar.gz
"
