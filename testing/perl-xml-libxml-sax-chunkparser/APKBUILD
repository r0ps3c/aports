# Automatically generated by apkbuild-cpan, template 3
# Contributor: Celeste <cielesti@protonmail.com>
# Maintainer: Celeste <cielesti@protonmail.com>
pkgname=perl-xml-libxml-sax-chunkparser
#_pkgreal is used by apkbuild-cpan to find modules at MetaCpan
_pkgreal=XML-LibXML-SAX-ChunkParser
pkgver=0.00008
pkgrel=0
pkgdesc="Parse XML Chunks Via LibXML SAX"
url="https://metacpan.org/release/XML-LibXML-SAX-ChunkParser/"
arch="noarch"
license="GPL-1.0-or-later OR Artistic-1.0-Perl"
depends="perl perl-xml-sax perl-xml-libxml"
makedepends="perl-module-build"
checkdepends="perl-test-fatal"
subpackages="$pkgname-doc"
source="https://cpan.metacpan.org/authors/id/D/DM/DMAKI/XML-LibXML-SAX-ChunkParser-$pkgver.tar.gz
	fix-tests.patch
	"
builddir="$srcdir/$_pkgreal-$pkgver"

build() {
	export CFLAGS=$(perl -MConfig -E 'say $Config{ccflags}')
	perl Build.PL --installdirs=vendor
	./Build
}

check() {
	./Build test
}

package() {
	./Build install --destdir="$pkgdir"
	find "$pkgdir" \( -name perllocal.pod -o -name .packlist \) -delete
}

sha512sums="
1e6b3702982f8431868e9b8e0e27a86da17b01de297caad187c7d05c64bdd60350be3acb66d49044a456ad4e24b9de4a4a243c64e546e6d4839a65735bf4b9c6  XML-LibXML-SAX-ChunkParser-0.00008.tar.gz
342e3219e93b5bb915de7bd356137ab26986f8c314eff8893a7ee36c9d91dcc0d3ffc2be8522ca68822057455686300ebccde7faacc03301c6624e2cf400dece  fix-tests.patch
"
