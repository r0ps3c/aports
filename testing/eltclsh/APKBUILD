# Contributor: Celeste <cielesti@protonmail.com>
# Maintainer: Celeste <cielesti@protonmail.com>
pkgname=eltclsh
pkgver=1.18
pkgrel=0
pkgdesc="Interactive Tcl shell using libedit"
url="https://homepages.laas.fr/mallet/soft/shell/eltclsh/"
arch="all"
license="BSD-2-Clause"
depends_dev="$pkgname"
makedepends="libedit-dev tcl-dev tk-dev"
subpackages="$pkgname-doc $pkgname-dev $pkgname-tk"
source="https://www.openrobots.org/distfiles/eltclsh/eltclsh-$pkgver.tar.gz"

build() {
	./configure \
		--build=$CBUILD \
		--host=$CHOST \
		--prefix=/usr \
		--sysconfdir=/etc \
		--mandir=/usr/share/man \
		--localstatedir=/var
	make
}

check() {
	make check
}

package() {
	make DESTDIR="$pkgdir" install
}

tk() {
	pkgdesc="$pkgdesc (graphical variant)"
	depends="$pkgname=$pkgver-r$pkgrel"

	amove usr/bin/elwish
}

sha512sums="
f9a748ff15b5d20def0a134ea36e7279f8b0c195e5bab5cef0eb6174f473d9370e7285e319d821beae9f3ffc115ae7ba3d09ba0212734fbfaa146d0492789bd9  eltclsh-1.18.tar.gz
"
