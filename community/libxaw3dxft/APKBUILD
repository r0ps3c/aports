# Contributor: Grigory Kirillov <txgk@bk.ru>
# Maintainer: Celeste <cielesti@protonmail.com>
maintainer="Celeste <cielesti@protonmail.com>"
pkgname=libxaw3dxft
pkgver=1.6.3
pkgrel=0
pkgdesc="XPaint version of libxaw3d library"
url="https://github.com/DaveFlater/libXaw3dXft"
arch="all"
license="MIT"
options="!check" # no test suite
makedepends="
	bison
	libxft-dev
	libxmu-dev
	libxpm-dev
	util-macros
	"
subpackages="
	$pkgname-static
	$pkgname-dev
	$pkgname-doc
	"
source="https://github.com/DaveFlater/libXaw3dXft/releases/download/v$pkgver/libxaw3dxft-$pkgver.tar.xz
	laygram-include.patch
	"

prepare() {
	default_prepare

	update_config_sub
}

build() {
	./configure \
		--build=$CBUILD \
		--host=$CHOST \
		--prefix=/usr \
		--sysconfdir=/etc \
		--mandir=/usr/share/man \
		--localstatedir=/var \
		--enable-internationalization \
		--enable-multiplane-bitmaps \
		--enable-gray-stipples \
		--enable-arrow-scrollbars
	make
}

package() {
	make DESTDIR="$pkgdir" install
}

sha512sums="
1b0ef5ad62ec5e2f37635341605d5ae41a8b8a048f99b7cb1f2dd60e3bc87b5e4b4f9bc76cf7b95f5c0652c98829cecf4ff522a45c4a3c62dc56d61a4ad41d98  libxaw3dxft-1.6.3.tar.xz
cf8757593985fe3ac2e21c887511d8882a0344b71def133fb23750ace5a61aafd194a7e79f637304d021e3d4588e2be4298eeea1390df17a5da3ea72387ec40d  laygram-include.patch
"
