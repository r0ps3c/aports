diff --git a/buildSrc/build.gradle.kts b/buildSrc/build.gradle.kts
index 9adadee..1631426 100644
--- a/buildSrc/build.gradle.kts
+++ b/buildSrc/build.gradle.kts
@@ -21,9 +21,12 @@ dependencies {
     implementation("com.igormaznitsa:jcp:${"jcp".v}")
 }
 
+tasks.withType<JavaCompile> {
+    sourceCompatibility = "1.8"
+    targetCompatibility = "1.8"
+}
+
 tasks.withType<KotlinCompile> {
-    sourceCompatibility = "unused"
-    targetCompatibility = "unused"
     kotlinOptions {
         jvmTarget = "1.8"
     }
diff --git a/gradle.properties b/gradle.properties
index c56a008..cf01acc 100644
--- a/gradle.properties
+++ b/gradle.properties
@@ -31,7 +31,7 @@ slowSuiteLogThreshold=500
 biz.aQute.bnd.builder.version=6.3.1
 com.github.autostyle.version=3.2
 com.github.burrunan.s3-build-cache.version=1.1
-com.github.johnrengelman.shadow.version=5.1.0
+com.github.johnrengelman.shadow.version=8.1.1
 com.github.lburgazzoli.karaf.version=0.5.4
 com.github.spotbugs.version=2.0.0
 com.github.vlsi.vlsi-release-plugins.version=1.82
