# Maintainer: Will Sinatra <wpsinatra@gmail.com>
pkgname=font-iosevka
pkgver=30.3.3
pkgrel=0
pkgdesc="Versatile typeface for code, from code"
url="https://typeof.net/Iosevka/"
arch="noarch"
options="!check" # no testsuite
license="OFL-1.1"
depends="fontconfig"
subpackages="
	$pkgname-base
	$pkgname-aile
	$pkgname-etoile
	$pkgname-slab
	$pkgname-curly
	$pkgname-curly-slab:curly_slab
	"
source="
	https://github.com/be5invis/Iosevka/releases/download/v$pkgver/PkgTTC-Iosevka-$pkgver.zip
	https://github.com/be5invis/Iosevka/releases/download/v$pkgver/PkgTTC-IosevkaAile-$pkgver.zip
	https://github.com/be5invis/Iosevka/releases/download/v$pkgver/PkgTTC-IosevkaEtoile-$pkgver.zip
	https://github.com/be5invis/Iosevka/releases/download/v$pkgver/PkgTTC-IosevkaSlab-$pkgver.zip
	https://github.com/be5invis/Iosevka/releases/download/v$pkgver/PkgTTC-SGr-IosevkaCurly-$pkgver.zip
	https://github.com/be5invis/Iosevka/releases/download/v$pkgver/PkgTTC-SGr-IosevkaCurlySlab-$pkgver.zip
	"

builddir="$srcdir"

package() {
	depends="
		$pkgname-base=$pkgver-r$pkgrel
		$pkgname-aile=$pkgver-r$pkgrel
		$pkgname-etoile=$pkgver-r$pkgrel
		$pkgname-slab=$pkgver-r$pkgrel
		$pkgname-curly=$pkgver-r$pkgrel
		$pkgname-curly-slab=$pkgver-r$pkgrel
		"

	install -Dm644 "$builddir"/*.ttc \
		-t "$pkgdir"/usr/share/fonts/${pkgname#font-}
}

base() {
	pkgdesc="$pkgdesc (Iosevka)"
	amove usr/share/fonts/iosevka/Iosevka-*.ttc
}

aile() {
	pkgdesc="$pkgdesc (Iosevka Aile)"
	amove usr/share/fonts/iosevka/IosevkaAile-*.ttc
}

etoile() {
	pkgdesc="$pkgdesc (Iosevka Etoile)"
	amove usr/share/fonts/iosevka/IosevkaEtoile-*.ttc
}

slab() {
	pkgdesc="$pkgdesc (Iosevka Slab)"
	amove usr/share/fonts/iosevka/IosevkaSlab-*.ttc
}

curly() {
	pkgdesc="$pkgdesc (Iosevka Curly)"
	amove usr/share/fonts/iosevka/SGr-IosevkaCurly-*.ttc
}

curly_slab() {
	pkgdesc="$pkgdesc (Iosevka Curly Slab)"
	amove usr/share/fonts/iosevka/SGr-IosevkaCurlySlab-*.ttc
}

sha512sums="
9ec6dcd0582d2c33d249d79dde6a96b7edbc2563fadd87cb0dae4466ca6dd2741a55b284e6046fef617dc5df5f04fa08f7544aad7e95a64c25ce89fff1411a4d  PkgTTC-Iosevka-30.3.3.zip
df7359c933ef6632d7bd7e69905b51497ddafb8cd46cb050ad3078e052339002c0779589cc534e9417fe7664af34c88c6629df00674799d9634d54108323be1f  PkgTTC-IosevkaAile-30.3.3.zip
a16e90ed42a8d745a622fe2082ef57fffa20f73fa6a1c18776b9ffb13399a0f6451b6a7620cb394fb161cb20578a5475a7e1b587291ec743271d3431c65492d5  PkgTTC-IosevkaEtoile-30.3.3.zip
55c1eb9fbf79ad8f1ed792ed883ce82b50dff553e9e21cca35c82e620d795ee275492efc2d483c00872fea7c7575b8ef3dc1cb44d9f36fe1cb13491993077195  PkgTTC-IosevkaSlab-30.3.3.zip
5bb1d25f160b1e25ae26189e69169f3df235bc7628360b90ce50aa1871df78c9bbc556b763f3251b33d3904dda5ab1dc4b856b7ee177661846c2059bcb20c35e  PkgTTC-SGr-IosevkaCurly-30.3.3.zip
422b23c05e41567106c8ccce4356cdf120904a35006a14cbe4403110b5b641b9f63cb5c8ccd973308cfe7c4174f86b50f8c34a39ccd967133650e95f699db459  PkgTTC-SGr-IosevkaCurlySlab-30.3.3.zip
"
