# Contributor: psykose <alice@ayaya.dev>
# Maintainer: psykose <alice@ayaya.dev>
pkgname=font-iosevka
pkgver=17.1.0
pkgrel=0
pkgdesc="Versatile typeface for code, from code"
url="https://typeof.net/Iosevka/"
arch="noarch"
options="!check" # no testsuite
license="OFL-1.1"
depends="fontconfig"
subpackages="
	$pkgname-base
	$pkgname-slab
	$pkgname-curly
	$pkgname-curly-slab:curly_slab
	"
source="
	https://github.com/be5invis/Iosevka/releases/download/v$pkgver/super-ttc-iosevka-$pkgver.zip
	https://github.com/be5invis/Iosevka/releases/download/v$pkgver/super-ttc-iosevka-slab-$pkgver.zip
	https://github.com/be5invis/Iosevka/releases/download/v$pkgver/super-ttc-iosevka-curly-$pkgver.zip
	https://github.com/be5invis/Iosevka/releases/download/v$pkgver/super-ttc-iosevka-curly-slab-$pkgver.zip
	"

builddir="$srcdir"

package() {
	depends="
		$pkgname-base
		$pkgname-slab
		$pkgname-curly
		$pkgname-curly-slab
	"

	install -Dm644 "$builddir"/*.ttc \
		-t "$pkgdir"/usr/share/fonts/${pkgname#font-}
}

base() {
	pkgdesc="$pkgdesc (Iosevka)"
	amove usr/share/fonts/iosevka/iosevka.ttc
}

slab() {
	pkgdesc="$pkgdesc (Iosevka Slab)"
	amove usr/share/fonts/iosevka/iosevka-slab.ttc
}

curly() {
	pkgdesc="$pkgdesc (Iosevka Curly)"
	amove usr/share/fonts/iosevka/iosevka-curly.ttc
}

curly_slab() {
	pkgdesc="$pkgdesc (Iosevka Curly Slab)"
	amove usr/share/fonts/iosevka/iosevka-curly-slab.ttc
}

sha512sums="
49b800e044a6c3f45c14bd85bc9784797220c1b7017adf4e4562371b4acdc214b34c871b4927f716dca48dbdc0e512ff364a774a197c3e467f8e083cd1154107  super-ttc-iosevka-17.1.0.zip
bf93edc7732809146ab025ee752e883c9c47af5cc5dff710e7915923fba38b777143eee793ba9894263b1dd0cdbe4f78be995b65f699461e4d9ac879daf62faa  super-ttc-iosevka-slab-17.1.0.zip
d1d3042bf45858b49201914e0aab392a4c36069aac9f98c6b865a026eb3327625a9bccd11e996c5531feceecfdb9d9af531d39a37b6b32545f166b11e0718c20  super-ttc-iosevka-curly-17.1.0.zip
96788020187d86f77933c54562c1c0b8ef96fac31ff3203698283f141a7ebf7f334a7c0e4800deb8198471366ba619065a22ad2cc6c34b93e662749b1047945b  super-ttc-iosevka-curly-slab-17.1.0.zip
"
