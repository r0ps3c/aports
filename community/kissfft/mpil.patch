M_PI{x} are gnu extensions, for long double / float
diff --git a/test/testcpp.cc b/test/testcpp.cc
index a62f6e0..9ab7009 100644
--- a/test/testcpp.cc
+++ b/test/testcpp.cc
@@ -19,6 +19,8 @@ double curtime(void)
     return (double)tv.tv_sec + (double)tv.tv_usec*.000001;
 }
 
+#define M_PIl 3.141592653589793238462643383279502884L
+
 using namespace std;
 
 template <class T>
