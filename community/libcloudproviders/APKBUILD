# Maintainer: Krassy Boykinov <kboykinov@teamcentrixx.com>
pkgname=libcloudproviders
pkgver=0.3.2
pkgrel=1
pkgdesc="DBus API that allows cloud storage sync clients to expose their services"
url="https://gitlab.gnome.org/World/libcloudproviders"
arch="all"
license="LGPL-3.0-or-later"
makedepends="
	gobject-introspection-dev
	meson
	vala
	"
checkdepends="dbus"
subpackages="$pkgname-dev"
source="https://gitlab.gnome.org/World/libcloudproviders/-/archive/$pkgver/libcloudproviders-$pkgver.tar.gz"
options="!check" # no tests

build() {
	abuild-meson \
		-Db_lto=true \
		. output
	meson compile -C output
}

package() {
	DESTDIR="$pkgdir" meson install --no-rebuild -C output
}

sha512sums="
4f62b7e716fbda2d94e8795b12dfb4d54f5a2312bb4fd0323d1d6e7bd9c94173872cd06015e678f380f472b0f1663db1b1db731f05edb8b6afcea73bad36f6cb  libcloudproviders-0.3.2.tar.gz
"
