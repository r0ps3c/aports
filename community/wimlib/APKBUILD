# Contributor: alealexpro100 <alealexn@gmail.com>
# Maintainer: alealexpro100 <alealexn@gmail.com>
pkgname=wimlib
pkgver=1.14.2
pkgrel=0
pkgdesc="Create, extract, and modify Windows Imaging archives"
url="https://wimlib.net/"
arch="all"
license="GPL-3.0-or-later"
makedepends="fuse3-dev ntfs-3g-dev"
checkdepends="bash ntfs-3g-progs"
subpackages="$pkgname-dev $pkgname-doc"
source="https://wimlib.net/downloads/wimlib-$pkgver.tar.gz
	rename.patch
	"

build() {
	./configure \
		--build=$CBUILD \
		--host=$CHOST \
		--prefix=/usr \
		--sysconfdir=/etc \
		--mandir=/usr/share/man \
		--localstatedir=/var \
		--with-fuse \
		--with-ntfs-3g \
	make
}

check() {
	make check
}

package() {
	make DESTDIR="$pkgdir" install
}

sha512sums="
d5629ed2f2c67c26684618d259f2e3ffcdd36c896ab22223cf528219ba62c0ed10f35259f9115f97719d5745917968fd16e1ead1657f5ebdbf183d0f2fbd3271  wimlib-1.14.2.tar.gz
48a70d6b32ba4c8d6faeca6e4dfc2ed83523c979d714c6dd8ef024cb7913b0240f35a671280ff7aa0b534ec8384b5f4f575c5f5ab70ce743741e8213017a0952  rename.patch
"
