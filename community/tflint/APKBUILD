# Contributor: Will Sinatra <wpsinatra@gmail.com>
# Maintainer: Will Sinatra <wpsinatra@gmail.com>
pkgname=tflint
pkgver=0.50.0
pkgrel=0
pkgdesc="A linter for Terraform code"
license="MIT"
arch="all"
makedepends="go"
url="https://github.com/terraform-linters/tflint"
source="tflint-$pkgver.tar.gz::https://github.com/terraform-linters/tflint/archive/v$pkgver.tar.gz"
options="!check" #No tests

export GOFLAGS="$GOFLAGS -modcacherw"
export GOCACHE="${GOCACHE:-"$srcdir/go-cache"}"
export GOTMPDIR="${GOTMPDIR:-"$srcdir"}"
export GOMODCACHE="${GOMODCACHE:-"$srcdir/go"}"

build() {
	go build -o tflint-bin
}

package() {
	install -Dm755 $srcdir/tflint-$pkgver/tflint-bin $pkgdir/usr/bin/tflint
}

sha512sums="
fb8838d5eed4101bfb306c02eb73b5aa1b58d9a023fd896e711ae56a73be606d5a4c25de1db7efed9c0223b103fe4d45f0260554a3b61d0fee3b1acc3b28f5f1  tflint-0.50.0.tar.gz
"
