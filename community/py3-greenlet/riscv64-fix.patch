From 6ddbda318a8951335b9a5a4f3409f1c1d4384201 Mon Sep 17 00:00:00 2001
From: Jason Madden <jamadden@gmail.com>
Date: Mon, 21 Apr 2025 12:20:59 -0500
Subject: [PATCH] switch_riscv_unix.h: Go back to 'long' instead of 'int' on
 64-bit platforms

Fixes #443
---
 src/greenlet/platform/switch_riscv_unix.h | 6 +-----
 1 file changed, 1 insertion(+), 5 deletions(-)

diff --git a/src/greenlet/platform/switch_riscv_unix.h b/src/greenlet/platform/switch_riscv_unix.h
index 32ca78c..8761122 100644
--- a/src/greenlet/platform/switch_riscv_unix.h
+++ b/src/greenlet/platform/switch_riscv_unix.h
@@ -12,13 +12,9 @@ static int
 slp_switch(void)
 {
   int ret;
-#if __riscv_xlen == 32
   long fp;
   long *stackref, stsizediff;
-#else
-  int fp;
-  int *stackref, stsizediff;
-#endif
+
   __asm__ volatile ("" : : : REGS_TO_SAVE);
   __asm__ volatile ("mv %0, fp" : "=r" (fp) : );
   __asm__ volatile ("mv %0, sp" : "=r" (stackref) : );
