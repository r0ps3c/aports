From: Jakub Jirutka <jakub@jirutka.cz>
Date: Thu, 16 Nov 2023 21:56:42 +0100
Subject: [PATCH] Link with system-provided libraries

--- a/Cargo.toml
+++ b/Cargo.toml
@@ -53 +53 @@
-denokv_sqlite = "0.2.1"
+denokv_sqlite = { version = "0.2.1", default-features = false }
@@ -128 +128 @@
-rusqlite = { version = "=0.29.0", features = ["unlock_notify", "bundled"] }
+rusqlite = { version = "=0.29.0", features = ["unlock_notify", "buildtime_bindgen"] }
@@ -155 +155 @@
-zstd = "=0.12.4"
+zstd = { version = "=0.12.4", features = ["pkg-config"] }
--- a/ext/ffi/Cargo.toml
+++ b/ext/ffi/Cargo.toml
@@ -21 +21 @@
-libffi-sys = "=2.3.0"
+libffi-sys = { version = "=2.3.0", features = ["system"] }
--- a/ext/node/Cargo.toml
+++ b/ext/node/Cargo.toml
@@ -43 +43 @@
-libz-sys = { version = "1.1.8", features = ["static"] }
+libz-sys = { version = "1.1.8" }
